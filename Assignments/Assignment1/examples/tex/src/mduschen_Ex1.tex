\documentclass[letterpaper]{article}

\usepackage{pgffor}
\usepackage{ifthen}
\usepackage{totcount}
\renewcommand{\refname}{REFERENCES}


\newtotcounter{Nargs}
\newtotcounter{i}

\def\numargs#1{%
  \setcounter{Nargs}{0}%
  \foreach \x in #1{%
    \stepcounter{Nargs}%
  }%
  \the\value{Nargs}%
}  

\newcommand*{\derivative}[3][0]{%
  \def\N{\numargs{{#3}}}%
  \frac{\partial^{\ifnum1=0\N {} \else \N \fi} #2}{%
  \foreach \x in {#3} {\partial \x}}
}

% \newcommand*{\derivativeN}[3][0]{%
%   \def\M{1}%
%   \def\N{\numargs{{#3}}}%
%   \frac{\partial^{\ifnum#1=0 {\ifnum\N=\M \relax {} \else \N \fi} \else {\ifnum#1=1 {} \else #1 \fi} \fi} #2}{%
%   \setcounter{i}{0}%
%   \foreach \x in {#3}{%
%     \stepcounter{i}%
%     {\ifnum#1>0 { \ifnum\totvalue{i}>0 {} \else \partial \x ^{\ifnum#1=1 {} \else #1 \fi} \fi} \else \partial \x \fi }%
%     }%
%     }
% }



\begin{document}

$$\derivative[]{f}{x,y,z}$$
% $$\derivativeN{f}{x}$$
% $$\derivativeN[1]{f}{x,y}$$


% \bibliographystyle{main}
% \bibliography{main}

\end{document}